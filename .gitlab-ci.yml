image: node:latest


# before_script:
#   - node -v
#   - npm -v
#   - apt-get update -qq && apt-get install -y -qq
#   - npm install


stages:
  - prep
  # - build
  # - deploy


prep:
  stage: prep
  script:
    - node -v
    - npm -v
    - npm install
    - npm run prod
    - ls
  default:
    path: /dist
  only:
    - master


# build:
#   stage: build
#   script:
#     - npm run prod
#   artifacts:
#     paths:
#       - dist
#   only:
#     - master


# staging:
#   stage: deploy
#   script:
#     - cd dist
#     - ls
#   only: 
#     - master